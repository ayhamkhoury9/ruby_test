<div class="container mt-5">
  <h1 class="mb-4">All Movies</h1>

  <%= form_with(url: movies_path, method: :get, local: true, class: "mb-4") do %>
    <div class="input-group">
      <%= text_field_tag :actor, params[:actor], class: "form-control", placeholder: "Search for an actor" %>
      <div class="input-group-append">
        <%= submit_tag "Search", class: "btn btn-primary" %>
      </div>
    </div>
  <% end %>

  <table class="table table-striped table-hover" border="1">
    <thead class="table-dark">
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Year</th>
        <th scope="col">Director</th>
        <th scope="col">Actor</th>
        <th scope="col">Filming Location</th>
        <th scope="col">Country</th>
        <th scope="col">Average Rating</th>
      </tr>
    </thead>
    <tbody>
      <% @movies.each do |movie| %>
        <tr>
          <td><%= movie.title %></td>
          <td><%= movie.description %></td>
          <td><%= movie.year %></td>
          <td><%= movie.director %></td>
          <td><%= movie.actor %></td>
          <td><%= movie.filming_location %></td>
          <td><%= movie.country %></td>
          <td><%= movie.average_rating || 'N/A' %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
